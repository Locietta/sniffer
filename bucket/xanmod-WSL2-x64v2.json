{
    "homepage": "https://github.com/Locietta/xanmod-kernel-WSL2",
    "description": "Xanmod Kernel for WSL2.",
    "license": "GPL-2.0",
    "post_install": [
        ". $bucketsdir\\$bucket\\scripts\\IniFile.ps1",
        "$kernel_path=\"$original_dir\\bzImage-x64v2\" -replace \"\\\\\", \"\\\\\" # double all back-slashess",
        "$null = [IniFile]::WritePrivateProfileString(\"wsl2\", \"kernel\", $kernel_path, \"$env:USERPROFILE\\.wslconfig\")"
    ],
    "post_uninstall": [
        ". $bucketsdir\\$($install.bucket)\\scripts\\IniFile.ps1",
        "$null = [IniFile]::WritePrivateProfileString(\"wsl2\", \"kernel\", $null, \"$env:USERPROFILE\\.wslconfig\")"
    ],
    "notes": "To get modules support, please install sniffer/xanmod-WSL2-addons-x64v2.",
    "suggest": {
        "modules": "sniffer/xanmod-WSL2-addons-x64v2"
    },
    "version": "6.17.10-1.1",
    "url": "https://github.com/Locietta/xanmod-kernel-WSL2/releases/download/6.17.10-locietta-WSL2-xanmod1.1/bzImage-x64v2",
    "hash": "390b1b3c09978147fad8bdc19a135b821b9c818af3322c3cc88baee4d43ea6d2",
    "checkver": {
        "script": [
            "$LATEST = ((curl.exe -sL -H \"Authorization: Bearer $(Get-GitHubToken)\" https://api.github.com/repos/Locietta/xanmod-kernel-WSL2/tags?per_page=60 | ConvertFrom-Json).name | Select-String 'lts' -NotMatch)[0]",
            "$LATEST"
        ],
        "regex": "(?<main>[\\d.]+)-locietta-WSL2-xanmod(?<xanmod>[\\d.]+)",
        "replace": "${1}-${2}"
    },
    "autoupdate": {
        "url": "https://github.com/Locietta/xanmod-kernel-WSL2/releases/download/$matchMain-locietta-WSL2-xanmod$matchXanmod/bzImage-x64v2"
    }
}
